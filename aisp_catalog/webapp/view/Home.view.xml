<mvc:View controllerName="com.catalog.aispcatalog.controller.Home"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    <Page id="page" title="{i18n>title}">
        <subHeader>
            <Toolbar id="searchBar">
                <SearchField id="searchField" liveChange=".onSearch" placeholder="{i18n>homeSearchPlaceholder}" tooltip="{i18n>homeSearchTooltip}" width="100%">
                </SearchField>
            </Toolbar>
        </subHeader>
        <content>
            <!-- <PullToRefresh id="pullToRefresh" visible="{device>/support/touch}" refresh=".onRefresh"/> -->
            <!-- sorter: {
                        path: 'CategoryName',
                        descending: false
                    } -->
            <!-- Product Categories List -->
            <!-- Product List for Search Results -->
            <List visible="false" id="productList" mode="{= ${device>/system/phone} ? 'None' : 'SingleSelectMaster'}" selectionChange=".onProductListItemPress" noDataText="{i18n>homeNoData}" busyIndicatorDelay="0" items="{
        path: 'oProductItemsModel>/' 
    }">
                <items>
                    <ObjectListItem type="{= ${device>/system/phone} ? 'Active' : 'Inactive'}" icon="sap-icon://card" title="{oProductItemsModel>ProductName}" number="{
                path: 'oProductItemsModel>UnitPrice', 
                formatter: '.formatter.price' 
            }" numberUnit="{oProductItemsModel>CurrencyCode}" iconDensityAware="false">

                        <attributes>
                            <ObjectAttribute text="{oProductItemsModel>SupplierName}"/>
                        </attributes>
                        <firstStatus>
                            <ObjectStatus text="{
                        path: 'oProductItemsModel>Status', 
                        formatter: '.formatter.statusText' 
                    }" state="{
                        path: 'oProductItemsModel>Status', 
                        formatter: '.formatter.statusState' 
                    }"/>
                        </firstStatus>
                    </ObjectListItem>
                </items>
            </List>

            <!-- Product Categories List -->
            <List id="categoryList" headerText="{i18n>Categories}" mode="None" busyIndicatorDelay="0" items="{
                    path: 'oCommodityCodesModel>/'
                }">
                <items>
                    <StandardListItem title="{oCommodityCodesModel>CommodityName}" type="Active" counter="{oCommodityCodesModel>NumberOfProducts}" press=".onCategoryListItemPress" tooltip="{oCommodityCodesModel>CommodityName}">
                        <customData>
                            <core:CustomData key="id" value="{oCommodityCodesModel>Commodity}"/>
                        </customData>
                    </StandardListItem>
                </items>
            </List>
        </content>
    </Page>
</mvc:View>