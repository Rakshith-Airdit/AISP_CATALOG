<mvc:View xmlns:cssgrid="sap.ui.layout.cssgrid"
    xmlns:cards="sap.f.cards" controllerName="com.catalog.aispcatalog.controller.Welcome"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:grid="sap.ui.layout.cssgrid" core:require="{CurrencyType: 'sap/ui/model/type/Currency'}">
    <Page id="welcomePage" title="{i18n>title}" showHeader="false">
        <content>
            <!-- Welcome Header -->
            <!-- <Bar>
                <contentMiddle>
                    <Title text="{i18n>welcomeHeadline}" level="H1" />
                </contentMiddle>
                <contentRight>
                    <Button icon="sap-icon://customer" press=".onAvatarPress" type="Transparent" />
                    <ToggleButton icon="sap-icon://cart" pressed="{= ${appView>/layout}.startsWith('ThreeColumns') }" press=".onToggleCart" type="Transparent" />
                </contentRight>
            </Bar> -->
            <!-- All Products Section -->
            <Panel>
                <headerToolbar>
                    <Toolbar>
                        <Title text="{i18n>allProductsTitle}" level="H2" />
                        <ToolbarSpacer />
                        <Text text="Total: {view>/AllProducts/length} products" />
                    </Toolbar>
                </headerToolbar>

                <!-- No Data State -->
                <IllustratedMessage id="noDataMessage" visible="{= !${view>/AllProducts/length}}" title="{i18n>noProductsAvailable}" description="{i18n>noProductsDescription}" illustrationType="sapIllus-NoData" illustrationSize="Auto" class="sapUiLargeMargin">
                    <!-- <additionalContent>
                        <Button text="{i18n>refresh}" icon="sap-icon://refresh" press=".onRefresh" type="Emphasized" />
                    </additionalContent> -->
                </IllustratedMessage>


                <f:GridList id="productGrid" items="{view>/AllProducts}" itemPress="onProductItemPress" mode="None" width="100%" visible="{= !!${view>/AllProducts/length}}">
                    <f:customLayout>
                        <grid:GridBoxLayout boxWidth="19.5rem" />
                    </f:customLayout>

                    <f:GridListItem type="Active" class="sapUiSmallMargin" press="onSelectProduct">
                        <VBox height="100%" class="sapUiSmallMargin sapUiContentPadding tile-shadow-style" justifyContent="SpaceAround">
                            <layoutData>
                                <FlexItemData growFactor="1" shrinkFactor="0" />
                            </layoutData>

                            <!-- Top Content -->
                            <VBox>
                                <!-- Product Image - Top Section -->
                                <HBox justifyContent="Center" class="sapUiSmallMarginBottom">
                                    <Avatar src="{view>PictureUrl}" initials="{view>Category}" displaySize="L" displayShape="Square" press=".onSelectProduct" visible="true" backgroundColor="Accent1" imageFitType="Contain" class="sapUiTinyMargin product-image-tile" />
                                </HBox>

                                <!-- Product Title -->
                                <Title text="{view>Name}" level="H3" wrapping="true" class="sapUiTinyMarginBottom" textAlign="Center" />

                                <!-- Product Description -->
                                <Text text="{view>ShortDescription}" wrapping="true" class="sapUiSmallMarginBottom" textAlign="Center" maxLines="3" />

                                <!-- Pricing Section -->
                                <VBox class="sapUiSmallMarginTop sapUiSmallMarginBottom">
                                    <HBox justifyContent="SpaceBetween" alignItems="Center">
                                        <VBox>
                                            <Label text="Unit Price" design="Bold" class="sapUiTinyMarginBottom" />
                                            <Text text="Per Each" />
                                        </VBox>
                                        <ObjectNumber number="{
                                parts: [
                                    {path: 'view>Price'},
                                    {path: 'view>CurrencyCode'}
                                ],
                                type: 'sap.ui.model.type.Currency',
                                formatOptions: {showMeasure: false}
                            }" unit="{view>CurrencyCode}" state="Success" emphasized="true" />
                                    </HBox>
                                </VBox>

                                <!-- Product Codes -->
                                <VBox>
                                    <HBox justifyContent="SpaceBetween" class="sapUiTinyMarginBottom">
                                        <Label text="Code:" design="Bold" />
                                        <Text text="{view>ProductId}" />
                                    </HBox>
                                    <HBox justifyContent="SpaceBetween">
                                        <Label text="Part #:" design="Bold" />
                                        <Text text="{view>ProductId}" />
                                    </HBox>
                                </VBox>

                                <!-- Add to Cart Button - Always at bottom -->
                                <!-- <Button text="Add to Cart" icon="sap-icon://cart-3" type="Emphasized" press=".onAddToCart" width="100%" class="sapUiSmallMarginTopBottom"/> -->
                            </VBox>

                        </VBox>
                    </f:GridListItem>
                </f:GridList>
            </Panel>
        </content>
    </Page>
</mvc:View>
